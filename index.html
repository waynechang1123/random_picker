<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>三泰股份有限公司年終聚餐</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
      crossorigin="anonymous"
    />
    <style>
      html,
      body {
        height: 100%;

        background-image: linear-gradient(to top, #d299c2 0%, #fef9d7 100%);
        font-family: Arial, sans-serif; /* 使用 Arial 字體，如果沒有此字體則使用 sans-serif 作為備用字體 */
      }

      /* 定義點擊後的晃動動畫 */
      @keyframes swing {
        20% {
          transform: rotate(15deg);
        }
        40% {
          transform: rotate(-10deg);
        }
        60% {
          transform: rotate(5deg);
        }
        80% {
          transform: rotate(-5deg);
        }
        100% {
          transform: rotate(0deg);
        }
      }

      /* 當點擊時套用動畫效果 */
      #refreshIcon.clicked {
        animation: swing 0.5s ease;
      }

      #company {
        width: 100%; /* 橫向寬度 100% */
        text-align: center; /* 文字置中 */
        font-weight: bold; /* 粗體 */
        font-size: 10vh;
        color: #0174be;
      }
      #activity {
        width: 100%; /* 橫向寬度 100% */
        text-align: center; /* 文字置中 */
        font-weight: bold; /* 粗體 */
        font-size: 8vh;
        color: #ce5a67;
      }
      #randomNumber {
        width: 100%; /* 橫向寬度 100% */
        text-align: center; /* 文字置中 */
        font-weight: bold; /* 粗體 */
        font-size: 10vh;
        color: #272829;
      }
      #refreshIcon {
        cursor: pointer;
        width: auto; /* 設定 SVG 圖檔的寬度為自動調整 */
        height: auto; /* 設定 SVG 圖檔的高度為自動調整 */
        max-width: 100%; /* 最大寬度為父元素的寬度 */
        max-height: 100%; /* 最大高度為父元素的高度 */
        transition: transform 0.3s ease; /* 加入移動的過渡效果 */
      }
      #company-logo {
        position: fixed; /* 設定為固定位置 */
        top: 20px; /* 距離底部的距離為 20px */
        right: 20px; /* 距離右邊的距離為 20px */
        width: 25vh; /* 圖片寬度 */
        height: auto; /* 圖片高度自動調整 */
      }
    </style>
  </head>

  <body>
    <div class="container">
      <div class="row">
        <div class="col-lg-12 pe-4 mb-4">
          <div id="company">三泰股份有限公司</div>
        </div>
      </div>

      <div class="row">
        <div class="col-lg-12 pe-4 mb-4">
          <div id="randomNumber">幸運號碼:</div>
        </div>
      </div>

      <div class="row">
        <div class="col-lg-12 pe-4 mb-4 text-center">
          <img
            id="refreshIcon"
            src="gift.svg"
            onclick="generateRandomNumber()"
            alt="Refresh Icon"
          />
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12 pt-4 mt-4">
          <div id="activity">2023 年終餐會</div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12 pe-4 mb-4">
          <img id="company-logo" src="logo.png" alt="Company Logo" />
        </div>
      </div>
      <audio id="clickSound">
        <source src="shake_small_box.mp3" type="audio/mpeg" />
        Your browser does not support the audio element.
      </audio>
      <audio id="after_clickSound">
        <source src="winning.mp3" type="audio/mpeg" />
        Your browser does not support the audio element.
      </audio>

      <script>
        var generatedNumbers = [];
        function generateRandomNumber() {
          document.getElementById("randomNumber").innerHTML = "幸運號碼: ";
          var clickSound = document.getElementById("clickSound");
          clickSound.play();

          if (generatedNumbers.length === 120) {
            console.log("所有數字都已生成");
            return;
          }

          var randomNumber;
          // 生成不重複的隨機數字
          do {
            randomNumber = Math.floor(Math.random() * 120) + 1;
          } while (generatedNumbers.includes(randomNumber));

          // 將生成的數字加入陣列
          generatedNumbers.push(randomNumber);
          var formattedNumber = randomNumber.toString().padStart(3, "0");
          var currentDigit = 0; // 從百位數開始
          var interval = setInterval(function () {
            if (currentDigit > 2) {
              clearInterval(interval); // 停止定時器
              return;
            }

            document.getElementById("randomNumber").innerHTML +=
              formattedNumber[currentDigit] + "&nbsp;"; // 逐步顯示數字的每一位
            currentDigit++;
          }, 800); // 每隔500毫秒顯示一位數字
          // 在點擊後為圖示添加 'clicked' class 以啟動動畫效果
          document.getElementById("refreshIcon").classList.add("clicked");

          // 0.5秒後移除 'clicked' class 以便下一次動畫
          setTimeout(function () {
            document.getElementById("refreshIcon").classList.remove("clicked");
          }, 700);
          clickSound.onended = function () {
            var after_clickSound = document.getElementById("after_clickSound");
            after_clickSound.play();
          };
        }

        // 計算並設定 SVG 圖檔的大小
        window.addEventListener("load", function () {
          var refreshIcon = document.getElementById("refreshIcon");
          var screenWidth = window.innerWidth;
          var screenHeight = window.innerHeight;

          // 計算適當的寬度和高度
          var iconWidth = screenWidth / 3; // 將螢幕寬度分成16等份
          var iconHeight = screenHeight / 3; // 將螢幕高度分成16等份

          // 設定圖示的寬度和高度
          refreshIcon.style.width = iconWidth + "px";
          refreshIcon.style.height = iconHeight + "px";
        });

        window.addEventListener("resize", function () {
          var refreshIcon = document.getElementById("refreshIcon");
          var screenWidth = window.innerWidth;
          var screenHeight = window.innerHeight;

          // 計算適當的寬度和高度
          var iconWidth = screenWidth / 3; // 將螢幕寬度分成16等份
          var iconHeight = screenHeight / 3; // 將螢幕高度分成16等份

          // 設定圖示的寬度和高度
          refreshIcon.style.width = iconWidth + "px";
          refreshIcon.style.height = iconHeight + "px";
        });
      </script>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
